/*!
 * Name: panopticon
 * Id: panopticon
 * Version: 0.1.0
 * Description:
 * Author:  ()
 * Repository:
 */
define(["react","code-plug","../../src/components","moment","rsuite","../../../src/components"],(e,t,r,n,s,o)=>(()=>{var a={21:(e,t,r)=>{var n=r(645);(e.exports=n(!1)).push([e.id,".secret-viewer .display-secret{padding:4px 10px;font-family:monospace;background-color:#eeeeee;border:1px solid #bbbbbb}.secret-viewer .secret-reveal-at{font-size:40px;font-weight:bolder}\n",""])},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var s=(a=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(i," */")),o=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot).concat(e," */")}));return[r].concat(o).concat([s]).join("\n")}var a,l,i;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(r,"}"):r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var o=this[s][0];null!=o&&(n[o]=!0)}for(var a=0;a<e.length;a++){var l=e[a];null!=l[0]&&n[l[0]]||(r&&!l[2]?l[2]=r:r&&(l[2]="(".concat(l[2],") and (").concat(r,")")),t.push(l))}},t}},982:(e,t,r)=>{var n=r(21);"string"==typeof n&&(n=[[e.id,n,""]]);var s={insert:"head",singleton:!1};r(379)(n,s);n.locals&&(e.exports=n.locals)},379:(e,t,r)=>{"use strict";var n,s={},o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}();function l(e,t){for(var r=[],n={},s=0;s<e.length;s++){var o=e[s],a=t.base?o[0]+t.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(l):r.push(n[a]={id:a,parts:[l]})}return r}function i(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=s[n.id],a=0;if(o){for(o.refs++;a<o.parts.length;a++)o.parts[a](n.parts[a]);for(;a<n.parts.length;a++)o.parts.push(g(n.parts[a],t))}else{for(var l=[];a<n.parts.length;a++)l.push(g(n.parts[a],t));s[n.id]={id:n.id,refs:1,parts:l}}}}function c(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var n=r.nc;n&&(e.attributes.nonce=n)}if(Object.keys(e.attributes).forEach((function(r){t.setAttribute(r,e.attributes[r])})),"function"==typeof e.insert)e.insert(t);else{var s=a(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,r,n){var s=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,s);else{var o=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function m(e,t,r){var n=r.css,s=r.media,o=r.sourceMap;if(s&&e.setAttribute("media",s),o&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var f=null,v=0;function g(e,t){var r,n,s;if(t.singleton){var o=v++;r=f||(f=c(t)),n=p.bind(null,r,o,!1),s=p.bind(null,r,o,!0)}else r=c(t),n=m.bind(null,r,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o());var r=l(e,t);return i(r,t),function(e){for(var n=[],o=0;o<r.length;o++){var a=r[o],c=s[a.id];c&&(c.refs--,n.push(c))}e&&i(l(e,t),t);for(var u=0;u<n.length;u++){var d=n[u];if(0===d.refs){for(var p=0;p<d.parts.length;p++)d.parts[p]();delete s[d.id]}}}}},570:e=>{"use strict";e.exports=o},727:e=>{"use strict";e.exports=r},737:e=>{"use strict";e.exports=t},283:e=>{"use strict";e.exports=n},650:t=>{"use strict";t.exports=e},131:e=>{"use strict";e.exports=s}},l={};function i(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={id:e,exports:{}};return a[e](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{"use strict";i.r(c);var e=i(650),t=i.n(e),r=i(737),n=i(727),s=i(283),o=i.n(s),a=i(131),l=i(570);let u;null!=window.AppContext?u=window.AppContext:(u=t().createContext({}),window.AppContext=u);const d=u,p=()=>{const{state:t}=(0,e.useContext)(d);return t.settings},m=e=>"location"===e?"#5E8263":e?"#D36135":e?"#595D88":"#000000";i(982);const f=()=>t().createElement(a.Icon,{className:"map-marker",icon:"map-marker",size:"2x",style:{color:"red"}}),v=({record:e})=>{const{payload:r}=e,{googleMapsKey:n}=p(),s=o()(r.secret_duration),i=o()();return t().createElement("div",{className:"secret-viewer"},t().createElement(a.FlexboxGrid,{justify:"space-between",style:{marginTop:"30px"}},t().createElement(a.FlexboxGrid.Item,{colspan:7},t().createElement("div",null,t().createElement("b",null,"Secret is")," ",t().createElement(l.SmallTag,{color:m(r.secret_type)},r.secret_type)),("time"===r.secret_type||"location+time"===r.secret_type)&&t().createElement("div",null,t().createElement("b",null,"Revealed when"),t().createElement("br",null),t().createElement("em",null,s.format("dddd, MMMM Do YYYY, h:mm:ss")),s.isAfter(i)&&t().createElement("div",{className:"secret-reveal-at"},s.toNow(!0)),!s.isAfter(i)&&t().createElement("div",null,"Secret date is due"))),t().createElement(a.FlexboxGrid.Item,{colspan:7},null!=r.secret_url&&t().createElement("div",null,t().createElement("b",null,"Secret image"),t().createElement("img",{src:r.secret_url,width:"100%"})),null!=r.secret&&t().createElement("div",null,t().createElement("b",null,"Secret text"),t().createElement("div",{className:"display-secret"},r.secret))),t().createElement(a.FlexboxGrid.Item,{colspan:7},null!=e.latitude&&t().createElement("div",{className:"ui-devices-map",style:{height:"300px"}},t().createElement(l.Maps,{defaultCenter:{lat:e.latitude,lng:e.longitude},defaultZoom:11},t().createElement(f,null))),null==e.latitude&&t().createElement("div",null,t().createElement("em",null,"No location for this secret")))))};(0,r.plug)("sidebar",null,{id:"wiggle",label:"Wiggle",icon:"logo-survey",permission:"wiggle.view",options:[{id:"wiggle-secrets",label:"Secrets",url:"/secrets"}]}),(0,r.plug)("pages",n.UserRecords,{url:"/secrets",title:"Secrets",id:"secrets",type:"secret",permission:"wiggle.view",breadcrumbs:["Secrets"],labels:{title:"Name",record:"secret"},columns:[{id:"secret-type",label:"Type",width:120,cell:({payload:e})=>t().createElement(n.SmallTag,{color:m(e.secret_type)},e.secret_type)}]}),(0,r.plug)("permissions",null,{permission:"wiggle.view",name:"View Wiggle secret",description:"View secrets stored in Wiggle Bot",group:"Wiggle"}),(0,r.plug)("user-record-types",null,{type:"secret",name:"Secret",list:"Secrets",description:"List of Wiggle secrets",form:v,status:[{value:"new",label:"New"},{value:"expired",label:"Expired"}]})})(),c})());